import React from 'react';

const Task = (props: any) => {
    function hasCompleted() {
        let taskID: string = props.id;
        let taskComplete = document.getElementById(taskID)?.children.item(0)?.children.item(0);
        let taskName = document.getElementById(taskID)?.children.item(0)?.children.item(1);   // Stores the current Task Name
        let completed_svg: string = '<path d="M30 15C30 23.2843 23.2843 30 15 30C6.7157 30 0 23.2843 0 15C0 6.71571 6.7157 0 15 0C23.2843 0 30 6.71571 30 15ZM13.265 22.9424L24.394 11.8133C24.7719 11.4354 24.7719 10.8227 24.394 10.4448L23.0254 9.07621C22.6475 8.69825 22.0348 8.69825 21.6568 9.07621L12.5806 18.1523L8.3432 13.9149C7.9653 13.537 7.35254 13.537 6.97458 13.9149L5.60601 15.2834C5.2281 15.6613 5.2281 16.2741 5.60601 16.652L11.8963 22.9423C12.2743 23.3203 12.887 23.3203 13.265 22.9424Z" fill="#47FFC2"/>';
        if(taskComplete) taskComplete.innerHTML = completed_svg; // Replaces current SVG with `completed_svg` 
        if(taskName) taskName.innerHTML = taskName.innerHTML.strike();     // Replaces Task Name with striked Task Name  
        console.log('Task',props.id,'Completed!');    // Helps Debug Problems
    }    
    return(
        <div className="task" id={props.id}>
            <div className="wrapper" onClick={hasCompleted}>
                <svg width="15" height="15" viewBox="0 0 30 30" fill="none" className="task__complete" id="task__complete" xmlns="http://www.w3.org/2000/svg">
                    <path className="btn__complete" d="M15 0C6.71371 0 0 6.71371 0 15C0 23.2863 6.71371 30 15 30C23.2863 30 30 23.2863 30 15C30 6.71371 23.2863 0 15 0Z" fill="#A4A4A4"/>
                </svg>
                <span className="task__title" id="task__title">{props.name}</span>
            </div>
            <svg width="15" height="20" viewBox="0 0 25 30" fill="none" className="task__delete" xmlns="http://www.w3.org/2000/svg">
                <path className="btn__delete" d="M1.78571 27.1875C1.78571 27.9334 2.06792 28.6488 2.57025 29.1762C3.07258 29.7037 3.75388 30 4.46429 30H20.5357C21.2461 30 21.9274 29.7037 22.4297 29.1762C22.9321 28.6488 23.2143 27.9334 23.2143 27.1875V7.50001H1.78571V27.1875ZM16.9643 12.1875C16.9643 11.9389 17.0584 11.7004 17.2258 11.5246C17.3932 11.3488 17.6203 11.25 17.8571 11.25C18.0939 11.25 18.321 11.3488 18.4885 11.5246C18.6559 11.7004 18.75 11.9389 18.75 12.1875V25.3125C18.75 25.5611 18.6559 25.7996 18.4885 25.9754C18.321 26.1512 18.0939 26.25 17.8571 26.25C17.6203 26.25 17.3932 26.1512 17.2258 25.9754C17.0584 25.7996 16.9643 25.5611 16.9643 25.3125V12.1875ZM11.6071 12.1875C11.6071 11.9389 11.7012 11.7004 11.8687 11.5246C12.0361 11.3488 12.2632 11.25 12.5 11.25C12.7368 11.25 12.9639 11.3488 13.1313 11.5246C13.2988 11.7004 13.3929 11.9389 13.3929 12.1875V25.3125C13.3929 25.5611 13.2988 25.7996 13.1313 25.9754C12.9639 26.1512 12.7368 26.25 12.5 26.25C12.2632 26.25 12.0361 26.1512 11.8687 25.9754C11.7012 25.7996 11.6071 25.5611 11.6071 25.3125V12.1875ZM6.25 12.1875C6.25 11.9389 6.34407 11.7004 6.51151 11.5246C6.67895 11.3488 6.90606 11.25 7.14286 11.25C7.37966 11.25 7.60676 11.3488 7.7742 11.5246C7.94165 11.7004 8.03571 11.9389 8.03571 12.1875V25.3125C8.03571 25.5611 7.94165 25.7996 7.7742 25.9754C7.60676 26.1512 7.37966 26.25 7.14286 26.25C6.90606 26.25 6.67895 26.1512 6.51151 25.9754C6.34407 25.7996 6.25 25.5611 6.25 25.3125V12.1875ZM24.1071 1.87501H17.4107L16.8862 0.779307C16.775 0.545057 16.6039 0.348012 16.3919 0.210337C16.18 0.0726631 15.9356 -0.00017742 15.6864 1.02731e-05H9.30803C9.05936 -0.000993469 8.81545 0.0715755 8.60424 0.209403C8.39304 0.34723 8.22308 0.544741 8.11384 0.779307L7.58929 1.87501H0.892857C0.656057 1.87501 0.428955 1.97378 0.261512 2.1496C0.0940686 2.32541 0 2.56387 0 2.81251L0 4.68751C0 4.93615 0.0940686 5.17461 0.261512 5.35042C0.428955 5.52624 0.656057 5.62501 0.892857 5.62501H24.1071C24.3439 5.62501 24.571 5.52624 24.7385 5.35042C24.9059 5.17461 25 4.93615 25 4.68751V2.81251C25 2.56387 24.9059 2.32541 24.7385 2.1496C24.571 1.97378 24.3439 1.87501 24.1071 1.87501Z" fill="transparent"/>
            </svg>
        </div>
    )
}

export default Task;